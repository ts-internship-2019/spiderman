@model iWasHere.Domain.DTOs.DictionaryCityModel
@{
    ViewData["Title"] = "AddCity";
}


    <div>
        <h2 align="center">Adauga informatii despre  un oras</h2>
        @using (Html.BeginForm("NewCity", "Dictionary", FormMethod.Post))
        {
            @Html.HiddenFor(a => a.CityId)
            <label for="Oras">
                Oras:
            </label>
            <br />
            <input type="text" asp-for="CityName" id="city" />
            <br />
            <br/>
            @(Html.Kendo().ComboBoxFor(model => model.CountyId)
              .DataValueField("CountyId")
              .DataTextField("CountyName")
              .Placeholder("Selecteaza un judet")
              .HtmlAttributes(new { style = "align:left; width:60%; id='counties'" })
              .Filter("StartsWith")
              .DataSource(source =>
              {
                  source.Read(read =>
                  {
                      read.Action("FilterGetCounties", "Dictionary");
                  })
                  .ServerFiltering(true);
              })
            )
            <br />
            <button onclick="validate()" class="myBtn k-button k-primary" id="save" name="submit" style="margin-top: 2em; float: left;background-color: #008CBA;">Salveaza</button>

            @if (Model == null)
            {
                <button onclick="validate()"
                        class="myBtn k-button k-primary"
                        value="savenew" name="submit"
                        style="margin-top: 2em; float: left;background-color: #008CBA;">
                    Salveaza si nou
                </button>
            }
            <a class="btn btn-danger" href="/dictionary/City" name="submit" style="margin-top: 2em; float: left;">Anuleaza</a>
        }
    </div>

<style>
    .myBtn {
        margin-right: 20px;
    }
</style>
<script>
    function validate() {
        if (isEmpty($('#city').val())) {
            alert("Trebuie sa introduceti numele orasului");
        }
        if (isEmpty($('#counties').val())) {
            alert("Trebuie sa introduceti numele judetului");
        }
        var combo = $find('<%=counties.CountyId %>');
        if (combo.get_selectedIndex() == null) {
            alert("You must select a category before processing search!");
        }
    }

    function isEmpty(str) {
        return str === null || str == "" || str == " " || str.match(/^ *$/) !== null;
    }
</script>